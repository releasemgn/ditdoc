## 3. Предварительные действия

###  <a name="os_install">3.3 Установка операционной системы</a>

Установите Minimal версию ОС Scientific Linux 7.2

В процессе установки ОС разбиение дисков на разделы следует производить с учетом ролей, назначенных серверам. Минимальные требования к размеру разделов для тестовых и промышленных систем приведены ниже.

##### Минимальные размеры дисковых разделов тестовых систем

| Раздел|Load Balancer/Gateway|FS Backend|Metadata Storage|Data Storage|
|---|---|---|---|---|
|/ (корень) |5 ГБ  |5 ГБ   |5 ГБ   |5 ГБ   |
|swap       |512 MБ либо 25% RAM  |2 ГБ либо 25% RAM   |2 ГБ либо 25% RAM   |2 ГБ либо 25% RAM   |
|/var       |10 ГБ   | 30 ГБ   |100 ГБ   |10 ГБ   |
|/srv/node/* |нет   |нет   |нет   |300 ГБ   |

##### Минимальные размеры дисковых разделов промышленных систем

| Раздел|Load Balancer/Gateway|FS Backend|Metadata Storage|Data Storage|
|---|---|---|---|---|
|/ (корень) |10 ГБ|10 ГБ|10 ГБ|10 ГБ|
|swap       |1 ГБ либо 25% RAM|4 ГБ либо 25% RAM|4 ГБ либо 25% RAM|4 ГБ либо 25% RAM|
|/var       |10 ГБ   |300 ГБ   |1 ТБ   |100 ГБ   |
|/srv/node/* |нет|нет   |нет   |6 ТБ   |

Для корневого раздела и /var рекомендуется использовать файловую систему ext4 и размещать их на отказоустойчивых дисковых подсистемах (RAID). Для серверов с ролями Metadata Storage и MailDB рекомендуется использовать SSD

### Разделы /srv/node/*

`/srv/node/*` представляет собой несколько разделов с файловой системой xfs. Точки монтирования должны соответствовать именам дисков в ОС: например, диск `/dev/sdc` должен монтироваться в `/srv/node/sdc`. Файловые системы необходимо монтировать с опциями `noatime,nodiratime,nobarrier,logbufs=8`.

Использовать RAID для `/srv/node/*` не рекомендуется

Минимальное количество разделов `/srv/node/*` на каждом сервере равно 2. В том числе для тестовых систем.

Диски всех серверов Data Storage должны быть размечены одинаково.

###  <a name="lan_config">3.4 Сетевые настройки серверов</a>

Предполагается, что на всех серверах выполнены все требуемые сетевые настройки.Отметим, что IP-адреса сетевых интерфейсов серверов должны соответствовать их DNS-записям.(См [Инфраструктура](myoffice_infrastructure))

Проверка при помощи команды `hostname -f` должна выдавать корректный результат - полное имя ноды соответствующее DNS записи для её IP.

